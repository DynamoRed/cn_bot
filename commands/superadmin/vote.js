const Discord = require('discord.js');
const DiscordButtons = require('discord-buttons');

module.exports = {
    name: "vote",
    description: "Invite les membres a voter pour le serveur",
    category: "superadmin",
    timeout: 0,
    enabled: true,
    restrictions: ["staff+"],
    aliases: [""], 
    run: async (bot, message, args, botEmojis) => {

        /*if(!message.member.roles.cache.find(r => r.name.toLowerCase() == "staff+")) {
            var replyEmbed = new Discord.MessageEmbed()
                .setColor(bot.config.COLORS.RED)
                .setFooter(`Message auto-supprimÃ© dans 5 secondes`)
                .setDescription(`<@${message.author.id}> **vous n'avez pas la permission de faire ca**`)
            let msg = await message.channel.send(replyEmbed);
            setTimeout(() => {msg.delete()}, 5 * 1000)
            return;
        }*/
        
        //VOTE EMBEDS
        let voteEmbed1 = new Discord.MessageEmbed()
            .setColor(bot.config.COLORS.BLURPLE)
            .setTitle(`ðŸ“¨ Vote`)
            .setDescription(`${botEmojis.GLOBAL.BULLET} Votez pour notre serveur sur [Top-Serveur](https://top-serveurs.net/garrys-mod/vote/...) !
            Les cinq plus gros votants recevront une rÃ©compense a la fin du mois !`);

        let voteButton = new DiscordButtons.MessageButton()
            .setLabel(" Voter")
            .setStyle("url")
            .setEmoji('ðŸ“¨')
            .setURL('https://top-serveurs.net/garrys-mod/vote/...')

        message.channel.send('', {
            component: voteButton,
            embed: voteEmbed1
        });
    }
}